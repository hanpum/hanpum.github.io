#+TITLE: 距离测度
#+AUTHOR:hanpu.mwx
#+EMAIL: hanpu.mwx@gmail.com
#+DATE: <2020-06-04 Thu> 
#+UPDATED: <2020-06-04 Thu>
#+LATEX_HEADER: \usepackage{xeCJK} 
#+LATEX_HEADER: \usepackage{natbib}
#+LATEX_HEADER: \usepackage[version=3]{mhchem}
#+LATEX_HEADER: \usepackage{makeidx}
#+LATEX_HEADER: \usepackage{amssymb}
#+LATEX_HEADER: \makeindex
#+TAGS: MATH
#+CATEGORIES: NOTES
#+PROPERTY: header-args :output-dir ./distance
#+OPTIONS: ^:{}

* Hamming Distance
  给定两个符号串对应位置符号不同的次数, 也即
  \begin{equation*}
    \begin{array}{rcl}
      X & = & \{x_1, x_2, \cdots, x_n\} \\
      Y & = & \{y_1, y_2, \cdots, y_n\} \\
      \\
      c_{i} & = & \left \{
		  \begin{array}{rl}
		    0 & x_{i} = y_{i} \\
		    1 & x_{i} \neq y_{i} \\
		  \end{array}
		  \right. \\
      \\
      \mathcal{HD}(X,Y) & = & \sum\limits_{i=0}^{n} c_{i}
    \end{array}

  \end{equation*}

* 余弦距离
  给定两个向量 $\mathbf{A} = \{x_1, y_1\}$ , $\mathbf{B} = \{x_2, y_2\}$ , 连接 $\mathbf{A,B}$ 得到 $\mathbf{C}$ , 可以得到: $\mathbf{C} = \mathbf{A} - \mathbf{B} = \{x_1-x_2, y_1-y_2\}$ 
  
  #+NAME: cosDis
  #+HEADER: :headers '("\\usepackage{tikz}" "\\usepackage{xeCJK}" "\\usetikzlibrary{arrows.meta}" "\\usetikzlibrary{positioning}")
  #+HEADER: :imagemagick yes
  #+HEADER: :iminoptions -density 600 :imoutoptions -geometry 600 -quality 100
  #+BEGIN_SRC latex :fit yes :results file link slient :file-ext png :exports none
    \begin{tikzpicture}
      [auto, >=Stealth, inner sep=0cm, scale=2.0,
      arrow/.style={->,gray!81}
      ]

      % axis grid
      \draw[step=0.5cm,color=gray!10,dashed] (-1,-1) grid (3,3);
      \draw [->,gray!60] (-1,0) -- (3,0);
      \draw [->,gray!60] (0,-1) -- (0,3);

      \foreach \x in {1,2,3} {
	\node[below=2pt,gray!20] at (\x, 0) {\tiny $\x$};
	\node[right=2pt,gray!20] at (0, \x) {\tiny $\x$};
      }
      
      \fill[green!10!white,draw=green!50!black] (0,0) -- (0.4,0.2) arc[start angle=30,delta angle=17,radius=1cm] -- (0,0);
      \node[gray!81] at (0.45,0.45) {\small $\angle C$};

      \node (O) at (0,0);
      \node (A) at (1,2);
      \node (B) at (2,1) edge[->,dashed] node[swap] {$\mathbf{C} (x_1-x_2,y_1-y_2)$} (A);
      \draw[arrow,blue](O) -- (A) node [above=5pt] {$\mathbf{A}(x_1,y_1)$};
      \draw[arrow,red] (O) -- (B) node [right=5pt] {$\mathbf{B}(x_2,y_2)$};
      
      
    \end{tikzpicture}
  #+END_SRC

  [[file:./distance/cosDis.png]]


  $\mathbf{A,B,C}$ 组成一个三角形，根据余弦定理有:
  
  \begin{equation*}
    \begin{array}{rcl}
      \parallel C \parallel^{2} & = & \parallel A \parallel^{2} + \parallel B \parallel^{2} - 2 \cdot \parallel A \parallel \cdot \parallel B \parallel \cdot cos(C) \\
      \\
      cos(C) & = & \frac{\parallel A \parallel^{2} + \parallel B \parallel^{2} - \parallel C \parallel^{2}}{ 2 \cdot \parallel A \parallel \cdot \parallel B \parallel
    \end{array}
  \end{equation*}
  
  其中 $\parallel A \parallel$ 表示向量 $A$ 的模， 根据模计算公式以及向量内积 $A \cdot B = x_1x_2 + y_1y_2$ 有:

  \begin{equation*}
    \begin{array}{rcl}
      \parallel A \parallel & = & \sqrt{ x_{1}^{2} + y_{1}^{2} } \\
      \\
      \parallel B \parallel & = & \sqrt{ x_{2}^{2} + y_{2}^{2} } \\
      \\
      \parallel C \parallel & = & \sqrt{ (x_{1}-x_{2})^{2} + (y_{1}-y_{2})^{2} }\\
      \\
		& = & \sqrt{ x_{1}^{2} + x_{2}^{2} + y_{1}^{2} + y_{2}^{2} - 2 \cdot (x_{1}x_{2} + y_{1}y_{2}) } \\
      \\
		& = & \sqrt{ x_{1}^{2} + x_{2}^{2} + y_{1}^{2} + y_{2}^{2} - 2 \cdot (A \cdot B) } \\
      \\
    \end{array}
  \end{equation*}
  
  将其代入上面式子可以得到
  
  \begin{equation*}
    \begin{array}{rcl}
      cos(C) & = & \frac{A \cdot B}{\parallel A \parallel \cdot \parallel B \parallel}
    \end{array}
  \end{equation*}

* COMMENT Local Settings
# Local Variables:
# fill-column: 100
# org-confirm-babel-evaluate: nil
# org-image-actual-width: 200px
# End:

